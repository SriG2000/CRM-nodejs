{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./crm.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = (a0, a1) => ({\n  success: a0,\n  error: a1\n});\nconst _c1 = a0 => ({\n  \"full-span\": a0\n});\nfunction CampaignComponent_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx_r0.statusType === \"success\", ctx_r0.statusType === \"error\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.statusMessage, \" \");\n  }\n}\nfunction CampaignComponent_option_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const interval_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", interval_r2.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", interval_r2.label, \" \");\n  }\n}\nfunction CampaignComponent_div_68_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Sends immediately\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CampaignComponent_div_68_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_68_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const drip_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.removeDrip(drip_r5.id));\n    });\n    i0.ɵɵtext(1, \" \\u2715 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CampaignComponent_div_68_div_12_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const interval_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", interval_r7.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", interval_r7.label, \" \");\n  }\n}\nfunction CampaignComponent_div_68_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Wait Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 42);\n    i0.ɵɵlistener(\"ngModelChange\", function CampaignComponent_div_68_div_12_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const drip_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.updateDripInterval(drip_r5.id, $event));\n    });\n    i0.ɵɵtemplate(4, CampaignComponent_div_68_div_12_option_4_Template, 2, 2, \"option\", 21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const drip_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", drip_r5.interval);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.timeIntervals);\n  }\n}\nfunction CampaignComponent_div_68_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const template_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", template_r8.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", template_r8.name, \" \");\n  }\n}\nfunction CampaignComponent_div_68_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"div\", 48)(2, \"div\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_68_div_20_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const drip_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.previewTemplate(drip_r5.template));\n    });\n    i0.ɵɵtext(6, \" Preview \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const drip_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getTemplateName(drip_r5.template));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getTemplateDescription(drip_r5.template));\n  }\n}\nfunction CampaignComponent_div_68_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 51);\n    i0.ɵɵelement(2, \"path\", 52);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CampaignComponent_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34)(2, \"div\", 35)(3, \"div\", 36)(4, \"div\", 37);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\")(7, \"h3\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, CampaignComponent_div_68_span_9_Template, 2, 0, \"span\", 38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, CampaignComponent_div_68_button_10_Template, 2, 0, \"button\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 40);\n    i0.ɵɵtemplate(12, CampaignComponent_div_68_div_12_Template, 5, 2, \"div\", 38);\n    i0.ɵɵelementStart(13, \"div\", 41)(14, \"label\");\n    i0.ɵɵtext(15, \"Email Template\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"select\", 42);\n    i0.ɵɵlistener(\"ngModelChange\", function CampaignComponent_div_68_Template_select_ngModelChange_16_listener($event) {\n      const drip_r5 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.updateDripTemplate(drip_r5.id, $event));\n    });\n    i0.ɵɵelementStart(17, \"option\", 43);\n    i0.ɵɵtext(18, \"Select template...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, CampaignComponent_div_68_option_19_Template, 2, 2, \"option\", 21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(20, CampaignComponent_div_68_div_20_Template, 9, 2, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, CampaignComponent_div_68_div_21_Template, 3, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const drip_r5 = ctx.$implicit;\n    const index_r10 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(index_r10 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Email #\", index_r10 + 1, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", index_r10 === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.drips.length > 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", index_r10 > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c1, index_r10 === 0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", drip_r5.template);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.emailTemplates);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", drip_r5.template);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", index_r10 < ctx_r0.drips.length - 1);\n  }\n}\nfunction CampaignComponent_div_69_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"div\", 59)(2, \"div\")(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const template_r12 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(template_r12.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(template_r12.description);\n  }\n}\nfunction CampaignComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"div\", 55)(3, \"h2\");\n    i0.ɵɵtext(4, \"Email Templates\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_69_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeTemplateModal());\n    });\n    i0.ɵɵtext(6, \"\\u2715\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 56);\n    i0.ɵɵtemplate(8, CampaignComponent_div_69_div_8_Template, 7, 2, \"div\", 57);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.emailTemplates);\n  }\n}\nfunction CampaignComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"div\", 55)(3, \"h2\");\n    i0.ɵɵtext(4, \"Create New Template\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_70_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeCreateModal());\n    });\n    i0.ɵɵtext(6, \"\\u2715\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 56)(8, \"div\", 12)(9, \"label\", 60);\n    i0.ɵɵtext(10, \"Template Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 61);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CampaignComponent_div_70_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.templateForm.name, $event) || (ctx_r0.templateForm.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 12)(13, \"label\", 62);\n    i0.ɵɵtext(14, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 63);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CampaignComponent_div_70_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.templateForm.description, $event) || (ctx_r0.templateForm.description = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 12)(17, \"label\", 64);\n    i0.ɵɵtext(18, \"Email Content\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"textarea\", 65);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function CampaignComponent_div_70_Template_textarea_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.templateForm.content, $event) || (ctx_r0.templateForm.content = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 66)(21, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_70_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeCreateModal());\n    });\n    i0.ɵɵtext(22, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_70_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.createTemplate());\n    });\n    i0.ɵɵtext(24, \"Create Template\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.templateForm.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.templateForm.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.templateForm.content);\n  }\n}\nfunction CampaignComponent_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"div\", 55)(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function CampaignComponent_div_71_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closePreview());\n    });\n    i0.ɵɵtext(6, \"\\u2715\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 56)(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 68);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const templateId_r15 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getTemplateName(templateId_r15));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.getTemplateDescription(templateId_r15));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getTemplateContent(templateId_r15) || \"Template content preview not available.\", \" \");\n  }\n}\nexport class CampaignComponent {\n  constructor(crmService, router) {\n    this.crmService = crmService;\n    this.router = router;\n    this.title = 'Drip Campaign Builder';\n    this.emailTemplates = [];\n    this.timeIntervals = [];\n    this.numDrips = 3;\n    this.drips = [{\n      id: 1,\n      template: '',\n      interval: 0,\n      customInterval: 1\n    }, {\n      id: 2,\n      template: '',\n      interval: 3,\n      customInterval: 3\n    }, {\n      id: 3,\n      template: '',\n      interval: 7,\n      customInterval: 7\n    }];\n    this.globalInterval = 3;\n    this.campaignName = '';\n    this.showTemplateModal = false;\n    this.showCreateModal = false;\n    this.selectedTemplatePreview = null;\n    this.templateForm = {\n      name: '',\n      description: '',\n      content: ''\n    };\n    this.statusMessage = null;\n    this.statusType = null;\n    this.isSaving = false;\n  }\n  ngOnInit() {\n    this.fetchTemplates();\n    this.fetchTimeIntervals();\n  }\n  get totalDays() {\n    return this.drips.reduce((sum, drip) => sum + (drip.id === 1 ? 0 : drip.interval), 0);\n  }\n  get configuredDrips() {\n    return this.drips.filter(drip => Boolean(drip.template)).length;\n  }\n  fetchTemplates() {\n    this.crmService.getTemplates().subscribe({\n      next: templates => {\n        this.emailTemplates = templates;\n      },\n      error: () => {\n        // Fallback to local defaults if API is unavailable\n        this.emailTemplates = [{\n          id: 'welcome',\n          name: 'Welcome Email',\n          description: 'Introduce your brand',\n          content: ''\n        }, {\n          id: 'intro',\n          name: 'Product Introduction',\n          description: 'Showcase your product',\n          content: ''\n        }, {\n          id: 'case_study',\n          name: 'Case Study',\n          description: 'Share success stories',\n          content: ''\n        }];\n      }\n    });\n  }\n  fetchTimeIntervals() {\n    this.crmService.getTimeIntervals().subscribe({\n      next: intervals => {\n        this.timeIntervals = intervals;\n      },\n      error: () => {\n        this.timeIntervals = [{\n          value: 1,\n          label: '1 day'\n        }, {\n          value: 3,\n          label: '3 days'\n        }, {\n          value: 7,\n          label: '1 week'\n        }];\n      }\n    });\n  }\n  handleDripCountChange(value) {\n    const newCount = Math.max(1, Number(value) || 1);\n    this.numDrips = newCount;\n    if (newCount > this.drips.length) {\n      const newDrips = [...this.drips];\n      for (let i = this.drips.length; i < newCount; i += 1) {\n        newDrips.push({\n          id: i + 1,\n          template: '',\n          interval: i === 0 ? 0 : this.globalInterval,\n          customInterval: this.globalInterval\n        });\n      }\n      this.drips = newDrips;\n    } else if (newCount < this.drips.length) {\n      this.drips = this.drips.slice(0, newCount).map((drip, index) => ({\n        ...drip,\n        id: index + 1\n      }));\n    }\n  }\n  updateDripTemplate(id, templateId) {\n    this.drips = this.drips.map(drip => drip.id === id ? {\n      ...drip,\n      template: templateId\n    } : drip);\n  }\n  updateDripInterval(id, interval) {\n    this.drips = this.drips.map(drip => drip.id === id ? {\n      ...drip,\n      interval,\n      customInterval: interval\n    } : drip);\n  }\n  addDrip() {\n    const nextId = this.drips.length + 1;\n    this.drips = [...this.drips, {\n      id: nextId,\n      template: '',\n      interval: this.globalInterval,\n      customInterval: this.globalInterval\n    }];\n    this.numDrips = nextId;\n  }\n  removeDrip(id) {\n    if (this.drips.length <= 1) {\n      return;\n    }\n    this.drips = this.drips.filter(drip => drip.id !== id).map((drip, index) => ({\n      ...drip,\n      id: index + 1\n    }));\n    this.numDrips = this.drips.length;\n  }\n  applyGlobalInterval() {\n    this.drips = this.drips.map((drip, index) => ({\n      ...drip,\n      interval: index === 0 ? 0 : this.globalInterval,\n      customInterval: index === 0 ? 0 : this.globalInterval\n    }));\n  }\n  openTemplateModal() {\n    this.showTemplateModal = true;\n  }\n  closeTemplateModal() {\n    this.showTemplateModal = false;\n  }\n  openCreateModal() {\n    this.resetTemplateForm();\n    this.showCreateModal = true;\n  }\n  closeCreateModal() {\n    this.showCreateModal = false;\n  }\n  previewTemplate(templateId) {\n    this.selectedTemplatePreview = templateId;\n  }\n  closePreview() {\n    this.selectedTemplatePreview = null;\n  }\n  saveCampaign() {\n    this.isSaving = true;\n    this.statusMessage = null;\n    const payload = {\n      name: this.campaignName || 'Untitled Campaign',\n      drips: this.drips.map(drip => ({\n        id: drip.id,\n        template: drip.template,\n        interval: drip.id === 1 ? 0 : drip.interval\n      }))\n    };\n    this.crmService.saveCampaign(payload).subscribe({\n      next: () => {\n        this.isSaving = false;\n        this.statusType = 'success';\n        this.statusMessage = 'Campaign saved successfully!';\n      },\n      error: () => {\n        this.isSaving = false;\n        this.statusType = 'error';\n        this.statusMessage = 'Unable to save campaign. Please try again later.';\n      }\n    });\n  }\n  createTemplate() {\n    if (!this.templateForm.name || !this.templateForm.description || !this.templateForm.content) {\n      this.statusType = 'error';\n      this.statusMessage = 'Please fill out all template fields before submitting.';\n      return;\n    }\n    this.crmService.createTemplate(this.templateForm).subscribe({\n      next: template => {\n        this.emailTemplates = [...this.emailTemplates, template];\n        this.showCreateModal = false;\n        this.statusType = 'success';\n        this.statusMessage = 'Template created successfully!';\n        this.resetTemplateForm();\n      },\n      error: () => {\n        this.statusType = 'error';\n        this.statusMessage = 'Unable to create template. Please try again later.';\n      }\n    });\n  }\n  trackByDripId(_, drip) {\n    return drip.id;\n  }\n  getTemplateName(templateId) {\n    const template = this.emailTemplates.find(t => t.id === templateId);\n    return template?.name || 'Unknown Template';\n  }\n  getTemplateDescription(templateId) {\n    const template = this.emailTemplates.find(t => t.id === templateId);\n    return template?.description || '';\n  }\n  getTemplateContent(templateId) {\n    const template = this.emailTemplates.find(t => t.id === templateId);\n    return template?.content || '';\n  }\n  goBackToJobSeekers() {\n    this.router.navigate(['/']);\n  }\n  resetTemplateForm() {\n    this.templateForm = {\n      name: '',\n      description: '',\n      content: ''\n    };\n  }\n  static {\n    this.ɵfac = function CampaignComponent_Factory(t) {\n      return new (t || CampaignComponent)(i0.ɵɵdirectiveInject(i1.CrmService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CampaignComponent,\n      selectors: [[\"app-campaign\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 72,\n      vars: 17,\n      consts: [[1, \"page\"], [1, \"header\", \"card\"], [1, \"section-header\"], [1, \"action-buttons\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"icon\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"status\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"layout\"], [1, \"card\", \"sticky-panel\"], [1, \"section-title\"], [1, \"form-group\"], [\"for\", \"campaignName\"], [\"id\", \"campaignName\", \"name\", \"campaignName\", \"type\", \"text\", \"placeholder\", \"e.g., Welcome Series 2024\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"numDrips\"], [1, \"inline-group\"], [\"id\", \"numDrips\", \"type\", \"number\", \"min\", \"1\", 3, \"ngModelChange\", \"ngModel\"], [1, \"form-group\", \"info-box\"], [\"for\", \"globalInterval\"], [\"id\", \"globalInterval\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"full\", 3, \"click\"], [1, \"help-text\"], [1, \"stat-box\"], [1, \"stat-row\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"full\", 3, \"click\", \"disabled\"], [1, \"card\"], [1, \"workflow-list\"], [\"class\", \"workflow-wrapper\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"modal-backdrop\", 4, \"ngIf\"], [1, \"status\", 3, \"ngClass\"], [3, \"ngValue\"], [1, \"workflow-wrapper\"], [1, \"workflow-card\"], [1, \"workflow-header\"], [1, \"workflow-meta\"], [1, \"badge\"], [4, \"ngIf\"], [\"class\", \"btn btn-danger\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"grid-two\"], [3, \"ngClass\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [\"class\", \"preview-card\", 4, \"ngIf\"], [\"class\", \"connector\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"preview-card\"], [1, \"preview-header\"], [\"type\", \"button\", 1, \"link\", 3, \"click\"], [1, \"connector\"], [\"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"d\", \"M19 14l-7 7-7-7M12 21V3\"], [1, \"modal-backdrop\"], [1, \"modal-panel\"], [1, \"modal-header\"], [1, \"modal-content\"], [\"class\", \"template-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"template-card\"], [1, \"template-header\"], [\"for\", \"templateName\"], [\"id\", \"templateName\", \"type\", \"text\", \"placeholder\", \"e.g., Product Launch Email\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"templateDescription\"], [\"id\", \"templateDescription\", \"type\", \"text\", \"placeholder\", \"Brief description of this template\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"templateContent\"], [\"id\", \"templateContent\", \"rows\", \"6\", \"placeholder\", \"Write your email content here...\", 3, \"ngModelChange\", \"ngModel\"], [1, \"modal-actions\"], [\"type\", \"button\", 1, \"btn\", 3, \"click\"], [1, \"preview-body\"]],\n      template: function CampaignComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"h1\");\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\");\n          i0.ɵɵtext(7, \"Configure your automated email sequence\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 3)(9, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function CampaignComponent_Template_button_click_9_listener() {\n            return ctx.goBackToJobSeekers();\n          });\n          i0.ɵɵelementStart(10, \"span\", 5);\n          i0.ɵɵtext(11, \"\\u2190\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(12, \" Back to Job Seekers \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function CampaignComponent_Template_button_click_13_listener() {\n            return ctx.openCreateModal();\n          });\n          i0.ɵɵelementStart(14, \"span\", 5);\n          i0.ɵɵtext(15, \"\\u2795\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(16, \" Create Template \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function CampaignComponent_Template_button_click_17_listener() {\n            return ctx.openTemplateModal();\n          });\n          i0.ɵɵelementStart(18, \"span\", 5);\n          i0.ɵɵtext(19, \"\\uD83D\\uDC41\\uFE0F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(20, \" View Templates \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(21, CampaignComponent_p_21_Template, 2, 5, \"p\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 9)(23, \"div\", 10)(24, \"div\", 11);\n          i0.ɵɵtext(25, \"General Settings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 12)(27, \"label\", 13);\n          i0.ɵɵtext(28, \"Campaign Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CampaignComponent_Template_input_ngModelChange_29_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.campaignName, $event) || (ctx.campaignName = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(30, \"div\", 12)(31, \"label\", 15);\n          i0.ɵɵtext(32, \"Number of Drip Emails\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 16)(34, \"input\", 17);\n          i0.ɵɵlistener(\"ngModelChange\", function CampaignComponent_Template_input_ngModelChange_34_listener($event) {\n            return ctx.handleDripCountChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function CampaignComponent_Template_button_click_35_listener() {\n            return ctx.addDrip();\n          });\n          i0.ɵɵtext(36, \"\\u2795\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(37, \"div\", 18)(38, \"label\", 19);\n          i0.ɵɵtext(39, \"Send After Previous Email (Global)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"select\", 20);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function CampaignComponent_Template_select_ngModelChange_40_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.globalInterval, $event) || (ctx.globalInterval = $event);\n            return $event;\n          });\n          i0.ɵɵtemplate(41, CampaignComponent_option_41_Template, 2, 2, \"option\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"button\", 22);\n          i0.ɵɵlistener(\"click\", function CampaignComponent_Template_button_click_42_listener() {\n            return ctx.applyGlobalInterval();\n          });\n          i0.ɵɵtext(43, \" Apply to All Drips \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"p\", 23);\n          i0.ɵɵtext(45, \"Set a default interval for all emails (except the first)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(46, \"div\", 24)(47, \"div\", 25)(48, \"span\");\n          i0.ɵɵtext(49, \"Total Emails:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"span\");\n          i0.ɵɵtext(51);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(52, \"div\", 25)(53, \"span\");\n          i0.ɵɵtext(54, \"Duration:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"span\");\n          i0.ɵɵtext(56);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(57, \"div\", 25)(58, \"span\");\n          i0.ɵɵtext(59, \"Configured:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"span\");\n          i0.ɵɵtext(61);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(62, \"button\", 26);\n          i0.ɵɵlistener(\"click\", function CampaignComponent_Template_button_click_62_listener() {\n            return ctx.saveCampaign();\n          });\n          i0.ɵɵtext(63);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(64, \"div\", 27)(65, \"div\", 11);\n          i0.ɵɵtext(66, \"Email Workflows\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"div\", 28);\n          i0.ɵɵtemplate(68, CampaignComponent_div_68_Template, 22, 12, \"div\", 29);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(69, CampaignComponent_div_69_Template, 9, 1, \"div\", 30)(70, CampaignComponent_div_70_Template, 25, 3, \"div\", 30)(71, CampaignComponent_div_71_Template, 12, 3, \"div\", 30);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.title);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngIf\", ctx.statusMessage);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.campaignName);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.numDrips);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.globalInterval);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.timeIntervals);\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(ctx.drips.length);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"~\", ctx.totalDays, \" days\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate2(\"\", ctx.configuredDrips, \"/\", ctx.drips.length, \"\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.isSaving);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.isSaving ? \"Saving...\" : \"Save Campaign\", \" \");\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.drips)(\"ngForTrackBy\", ctx.trackByDripId);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showTemplateModal);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showCreateModal);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedTemplatePreview);\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel],\n      styles: [\".page[_ngcontent-%COMP%] {\\n  min-height: 100vh;\\n  padding: 1.5rem;\\n  background: #f3f4f6;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.action-buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.75rem;\\n  flex-wrap: wrap;\\n}\\n\\n.status[_ngcontent-%COMP%] {\\n  margin-top: 1rem;\\n  padding: 0.75rem 1rem;\\n  border-radius: 0.75rem;\\n  font-weight: 500;\\n}\\n\\n.status.success[_ngcontent-%COMP%] {\\n  background: #dcfce7;\\n  color: #166534;\\n}\\n\\n.status.error[_ngcontent-%COMP%] {\\n  background: #fee2e2;\\n  color: #b91c1c;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 1.25rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 0.9rem;\\n  font-weight: 600;\\n  margin-bottom: 0.4rem;\\n  color: #1f2937;\\n}\\n\\n.inline-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.75rem;\\n}\\n\\n.inline-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.info-box[_ngcontent-%COMP%] {\\n  background: #eff6ff;\\n  border: 1px solid #bfdbfe;\\n  border-radius: 0.75rem;\\n  padding: 1rem;\\n}\\n\\n.info-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  margin-bottom: 0.75rem;\\n}\\n\\n.help-text[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 0.75rem;\\n  color: #4b5563;\\n}\\n\\n.full[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.workflow-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n}\\n\\n.workflow-wrapper[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n\\n.full-span[_ngcontent-%COMP%] {\\n  grid-column: span 2;\\n}\\n\\n.preview-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  font-size: 0.85rem;\\n}\\n\\n.link[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  color: #2563eb;\\n  font-size: 0.85rem;\\n  font-weight: 600;\\n  padding: 0;\\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 1.25rem 1.5rem;\\n  border-bottom: 1px solid #e5e7eb;\\n}\\n\\n.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.modal-content[_ngcontent-%COMP%] {\\n  padding: 1.5rem;\\n  max-height: 70vh;\\n  overflow-y: auto;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n}\\n\\n.template-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0 0 0.25rem 0;\\n}\\n\\n.template-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #4b5563;\\n  font-size: 0.9rem;\\n}\\n\\n.modal-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.75rem;\\n  justify-content: flex-end;\\n}\\n\\n.preview-body[_ngcontent-%COMP%] {\\n  margin-top: 1rem;\\n  padding: 1rem;\\n  background: #f9fafb;\\n  border-radius: 0.75rem;\\n  border: 1px solid #e5e7eb;\\n  color: #1f2937;\\n  font-size: 0.9rem;\\n  line-height: 1.5;\\n  white-space: pre-wrap;\\n}\\n\\n@media (max-width: 768px) {\\n  .page[_ngcontent-%COMP%] {\\n    padding: 1rem;\\n  }\\n\\n  .action-buttons[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n\\n  .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n    flex: 1;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FtcGFpZ24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7RUFDWixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtFQUNyQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7QUFDZDs7QUFFQTtFQUNFLE9BQU87QUFDVDs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQix5QkFBeUI7RUFDekIsc0JBQXNCO0VBQ3RCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsU0FBUztBQUNYOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsY0FBYztFQUNkLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRTtJQUNFLGFBQWE7RUFDZjs7RUFFQTtJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLE9BQU87RUFDVDtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnBhZ2Uge1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgcGFkZGluZzogMS41cmVtO1xuICBiYWNrZ3JvdW5kOiAjZjNmNGY2O1xufVxuXG4uaGVhZGVyIHtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xufVxuXG4uYWN0aW9uLWJ1dHRvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDAuNzVyZW07XG4gIGZsZXgtd3JhcDogd3JhcDtcbn1cblxuLnN0YXR1cyB7XG4gIG1hcmdpbi10b3A6IDFyZW07XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLnN0YXR1cy5zdWNjZXNzIHtcbiAgYmFja2dyb3VuZDogI2RjZmNlNztcbiAgY29sb3I6ICMxNjY1MzQ7XG59XG5cbi5zdGF0dXMuZXJyb3Ige1xuICBiYWNrZ3JvdW5kOiAjZmVlMmUyO1xuICBjb2xvcjogI2I5MWMxYztcbn1cblxuLmZvcm0tZ3JvdXAge1xuICBtYXJnaW4tYm90dG9tOiAxLjI1cmVtO1xufVxuXG4uZm9ybS1ncm91cCBsYWJlbCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDAuOXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgbWFyZ2luLWJvdHRvbTogMC40cmVtO1xuICBjb2xvcjogIzFmMjkzNztcbn1cblxuLmlubGluZS1ncm91cCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMC43NXJlbTtcbn1cblxuLmlubGluZS1ncm91cCBpbnB1dCB7XG4gIGZsZXg6IDE7XG59XG5cbi5pbmZvLWJveCB7XG4gIGJhY2tncm91bmQ6ICNlZmY2ZmY7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNiZmRiZmU7XG4gIGJvcmRlci1yYWRpdXM6IDAuNzVyZW07XG4gIHBhZGRpbmc6IDFyZW07XG59XG5cbi5pbmZvLWJveCBzZWxlY3Qge1xuICBtYXJnaW4tYm90dG9tOiAwLjc1cmVtO1xufVxuXG4uaGVscC10ZXh0IHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDAuNzVyZW07XG4gIGNvbG9yOiAjNGI1NTYzO1xufVxuXG4uZnVsbCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ud29ya2Zsb3ctbGlzdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMXJlbTtcbn1cblxuLndvcmtmbG93LXdyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5mdWxsLXNwYW4ge1xuICBncmlkLWNvbHVtbjogc3BhbiAyO1xufVxuXG4ucHJldmlldy1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMC44NXJlbTtcbn1cblxuLmxpbmsge1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiAjMjU2M2ViO1xuICBmb250LXNpemU6IDAuODVyZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5tb2RhbC1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDEuMjVyZW0gMS41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTdlYjtcbn1cblxuLm1vZGFsLWhlYWRlciBoMiB7XG4gIG1hcmdpbjogMDtcbn1cblxuLm1vZGFsLWNvbnRlbnQge1xuICBwYWRkaW5nOiAxLjVyZW07XG4gIG1heC1oZWlnaHQ6IDcwdmg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMXJlbTtcbn1cblxuLnRlbXBsYXRlLWhlYWRlciBoMyB7XG4gIG1hcmdpbjogMCAwIDAuMjVyZW0gMDtcbn1cblxuLnRlbXBsYXRlLWhlYWRlciBwIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogIzRiNTU2MztcbiAgZm9udC1zaXplOiAwLjlyZW07XG59XG5cbi5tb2RhbC1hY3Rpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAwLjc1cmVtO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuXG4ucHJldmlldy1ib2R5IHtcbiAgbWFyZ2luLXRvcDogMXJlbTtcbiAgcGFkZGluZzogMXJlbTtcbiAgYmFja2dyb3VuZDogI2Y5ZmFmYjtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjtcbiAgY29sb3I6ICMxZjI5Mzc7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBsaW5lLWhlaWdodDogMS41O1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAucGFnZSB7XG4gICAgcGFkZGluZzogMXJlbTtcbiAgfVxuXG4gIC5hY3Rpb24tYnV0dG9ucyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuYWN0aW9uLWJ1dHRvbnMgLmJ0biB7XG4gICAgZmxleDogMTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction2","_c0","ctx_r0","statusType","ɵɵadvance","ɵɵtextInterpolate1","statusMessage","interval_r2","value","label","ɵɵlistener","CampaignComponent_div_68_button_10_Template_button_click_0_listener","ɵɵrestoreView","_r4","drip_r5","ɵɵnextContext","$implicit","ɵɵresetView","removeDrip","id","interval_r7","CampaignComponent_div_68_div_12_Template_select_ngModelChange_3_listener","$event","_r6","updateDripInterval","ɵɵtemplate","CampaignComponent_div_68_div_12_option_4_Template","interval","timeIntervals","template_r8","name","CampaignComponent_div_68_div_20_Template_button_click_5_listener","_r9","previewTemplate","template","ɵɵtextInterpolate","getTemplateName","getTemplateDescription","ɵɵelement","CampaignComponent_div_68_span_9_Template","CampaignComponent_div_68_button_10_Template","CampaignComponent_div_68_div_12_Template","CampaignComponent_div_68_Template_select_ngModelChange_16_listener","_r3","updateDripTemplate","CampaignComponent_div_68_option_19_Template","CampaignComponent_div_68_div_20_Template","CampaignComponent_div_68_div_21_Template","index_r10","drips","length","ɵɵpureFunction1","_c1","emailTemplates","template_r12","description","CampaignComponent_div_69_Template_button_click_5_listener","_r11","closeTemplateModal","CampaignComponent_div_69_div_8_Template","CampaignComponent_div_70_Template_button_click_5_listener","_r13","closeCreateModal","ɵɵtwoWayListener","CampaignComponent_div_70_Template_input_ngModelChange_11_listener","ɵɵtwoWayBindingSet","templateForm","CampaignComponent_div_70_Template_input_ngModelChange_15_listener","CampaignComponent_div_70_Template_textarea_ngModelChange_19_listener","content","CampaignComponent_div_70_Template_button_click_21_listener","CampaignComponent_div_70_Template_button_click_23_listener","createTemplate","ɵɵtwoWayProperty","CampaignComponent_div_71_Template_button_click_5_listener","_r14","closePreview","templateId_r15","getTemplateContent","CampaignComponent","constructor","crmService","router","title","numDrips","customInterval","globalInterval","campaignName","showTemplateModal","showCreateModal","selectedTemplatePreview","isSaving","ngOnInit","fetchTemplates","fetchTimeIntervals","totalDays","reduce","sum","drip","configuredDrips","filter","Boolean","getTemplates","subscribe","next","templates","error","getTimeIntervals","intervals","handleDripCountChange","newCount","Math","max","Number","newDrips","i","push","slice","map","index","templateId","addDrip","nextId","applyGlobalInterval","openTemplateModal","openCreateModal","resetTemplateForm","saveCampaign","payload","trackByDripId","_","find","t","goBackToJobSeekers","navigate","ɵɵdirectiveInject","i1","CrmService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","CampaignComponent_Template","rf","ctx","CampaignComponent_Template_button_click_9_listener","CampaignComponent_Template_button_click_13_listener","CampaignComponent_Template_button_click_17_listener","CampaignComponent_p_21_Template","CampaignComponent_Template_input_ngModelChange_29_listener","CampaignComponent_Template_input_ngModelChange_34_listener","CampaignComponent_Template_button_click_35_listener","CampaignComponent_Template_select_ngModelChange_40_listener","CampaignComponent_option_41_Template","CampaignComponent_Template_button_click_42_listener","CampaignComponent_Template_button_click_62_listener","CampaignComponent_div_68_Template","CampaignComponent_div_69_Template","CampaignComponent_div_70_Template","CampaignComponent_div_71_Template","ɵɵtextInterpolate2","i3","NgClass","NgForOf","NgIf","i4","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","NumberValueAccessor","SelectControlValueAccessor","NgControlStatus","MinValidator","NgModel","styles"],"sources":["/Users/srivatsavgopinath/CRM-nodejs/frontend/src/app/campaign.component.ts","/Users/srivatsavgopinath/CRM-nodejs/frontend/src/app/campaign.component.html"],"sourcesContent":["import { CommonModule, NgClass, NgFor, NgIf } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport { CrmService, DripStep, EmailTemplate, TimeIntervalOption } from './crm.service';\n\ninterface TemplateFormState {\n  name: string;\n  description: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-campaign',\n  standalone: true,\n  imports: [CommonModule, FormsModule, NgFor, NgIf, NgClass],\n  templateUrl: './campaign.component.html',\n  styleUrls: ['./campaign.component.css']\n})\nexport class CampaignComponent implements OnInit {\n  readonly title = 'Drip Campaign Builder';\n\n  emailTemplates: EmailTemplate[] = [];\n  timeIntervals: TimeIntervalOption[] = [];\n\n  numDrips = 3;\n  drips: DripStep[] = [\n    { id: 1, template: '', interval: 0, customInterval: 1 },\n    { id: 2, template: '', interval: 3, customInterval: 3 },\n    { id: 3, template: '', interval: 7, customInterval: 7 }\n  ];\n  globalInterval = 3;\n  campaignName = '';\n\n  showTemplateModal = false;\n  showCreateModal = false;\n  selectedTemplatePreview: string | null = null;\n\n  templateForm: TemplateFormState = {\n    name: '',\n    description: '',\n    content: ''\n  };\n\n  statusMessage: string | null = null;\n  statusType: 'success' | 'error' | null = null;\n  isSaving = false;\n\n  constructor(private readonly crmService: CrmService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.fetchTemplates();\n    this.fetchTimeIntervals();\n  }\n\n  get totalDays(): number {\n    return this.drips.reduce((sum, drip) => sum + (drip.id === 1 ? 0 : drip.interval), 0);\n  }\n\n  get configuredDrips(): number {\n    return this.drips.filter((drip) => Boolean(drip.template)).length;\n  }\n\n  private fetchTemplates(): void {\n    this.crmService.getTemplates().subscribe({\n      next: (templates) => {\n        this.emailTemplates = templates;\n      },\n      error: () => {\n        // Fallback to local defaults if API is unavailable\n        this.emailTemplates = [\n          { id: 'welcome', name: 'Welcome Email', description: 'Introduce your brand', content: '' },\n          { id: 'intro', name: 'Product Introduction', description: 'Showcase your product', content: '' },\n          { id: 'case_study', name: 'Case Study', description: 'Share success stories', content: '' }\n        ];\n      }\n    });\n  }\n\n  private fetchTimeIntervals(): void {\n    this.crmService.getTimeIntervals().subscribe({\n      next: (intervals) => {\n        this.timeIntervals = intervals;\n      },\n      error: () => {\n        this.timeIntervals = [\n          { value: 1, label: '1 day' },\n          { value: 3, label: '3 days' },\n          { value: 7, label: '1 week' }\n        ];\n      }\n    });\n  }\n\n  handleDripCountChange(value: string | number): void {\n    const newCount = Math.max(1, Number(value) || 1);\n    this.numDrips = newCount;\n\n    if (newCount > this.drips.length) {\n      const newDrips = [...this.drips];\n      for (let i = this.drips.length; i < newCount; i += 1) {\n        newDrips.push({\n          id: i + 1,\n          template: '',\n          interval: i === 0 ? 0 : this.globalInterval,\n          customInterval: this.globalInterval\n        });\n      }\n      this.drips = newDrips;\n    } else if (newCount < this.drips.length) {\n      this.drips = this.drips.slice(0, newCount).map((drip, index) => ({\n        ...drip,\n        id: index + 1\n      }));\n    }\n  }\n\n  updateDripTemplate(id: number, templateId: string): void {\n    this.drips = this.drips.map((drip) =>\n      drip.id === id ? { ...drip, template: templateId } : drip\n    );\n  }\n\n  updateDripInterval(id: number, interval: number): void {\n    this.drips = this.drips.map((drip) =>\n      drip.id === id ? { ...drip, interval, customInterval: interval } : drip\n    );\n  }\n\n  addDrip(): void {\n    const nextId = this.drips.length + 1;\n    this.drips = [\n      ...this.drips,\n      {\n        id: nextId,\n        template: '',\n        interval: this.globalInterval,\n        customInterval: this.globalInterval\n      }\n    ];\n    this.numDrips = nextId;\n  }\n\n  removeDrip(id: number): void {\n    if (this.drips.length <= 1) {\n      return;\n    }\n\n    this.drips = this.drips\n      .filter((drip) => drip.id !== id)\n      .map((drip, index) => ({ ...drip, id: index + 1 }));\n    this.numDrips = this.drips.length;\n  }\n\n  applyGlobalInterval(): void {\n    this.drips = this.drips.map((drip, index) => ({\n      ...drip,\n      interval: index === 0 ? 0 : this.globalInterval,\n      customInterval: index === 0 ? 0 : this.globalInterval\n    }));\n  }\n\n  openTemplateModal(): void {\n    this.showTemplateModal = true;\n  }\n\n  closeTemplateModal(): void {\n    this.showTemplateModal = false;\n  }\n\n  openCreateModal(): void {\n    this.resetTemplateForm();\n    this.showCreateModal = true;\n  }\n\n  closeCreateModal(): void {\n    this.showCreateModal = false;\n  }\n\n  previewTemplate(templateId: string): void {\n    this.selectedTemplatePreview = templateId;\n  }\n\n  closePreview(): void {\n    this.selectedTemplatePreview = null;\n  }\n\n  saveCampaign(): void {\n    this.isSaving = true;\n    this.statusMessage = null;\n\n    const payload = {\n      name: this.campaignName || 'Untitled Campaign',\n      drips: this.drips.map((drip) => ({\n        id: drip.id,\n        template: drip.template,\n        interval: drip.id === 1 ? 0 : drip.interval\n      }))\n    };\n\n    this.crmService.saveCampaign(payload).subscribe({\n      next: () => {\n        this.isSaving = false;\n        this.statusType = 'success';\n        this.statusMessage = 'Campaign saved successfully!';\n      },\n      error: () => {\n        this.isSaving = false;\n        this.statusType = 'error';\n        this.statusMessage = 'Unable to save campaign. Please try again later.';\n      }\n    });\n  }\n\n  createTemplate(): void {\n    if (!this.templateForm.name || !this.templateForm.description || !this.templateForm.content) {\n      this.statusType = 'error';\n      this.statusMessage = 'Please fill out all template fields before submitting.';\n      return;\n    }\n\n    this.crmService.createTemplate(this.templateForm).subscribe({\n      next: (template) => {\n        this.emailTemplates = [...this.emailTemplates, template];\n        this.showCreateModal = false;\n        this.statusType = 'success';\n        this.statusMessage = 'Template created successfully!';\n        this.resetTemplateForm();\n      },\n      error: () => {\n        this.statusType = 'error';\n        this.statusMessage = 'Unable to create template. Please try again later.';\n      }\n    });\n  }\n\n  trackByDripId(_: number, drip: DripStep): number {\n    return drip.id;\n  }\n\n  getTemplateName(templateId: string): string {\n    const template = this.emailTemplates.find(t => t.id === templateId);\n    return template?.name || 'Unknown Template';\n  }\n\n  getTemplateDescription(templateId: string): string {\n    const template = this.emailTemplates.find(t => t.id === templateId);\n    return template?.description || '';\n  }\n\n  getTemplateContent(templateId: string): string {\n    const template = this.emailTemplates.find(t => t.id === templateId);\n    return template?.content || '';\n  }\n\n  goBackToJobSeekers(): void {\n    this.router.navigate(['/']);\n  }\n\n  private resetTemplateForm(): void {\n    this.templateForm = {\n      name: '',\n      description: '',\n      content: ''\n    };\n  }\n}\n","<div class=\"page\">\n  <div class=\"header card\">\n    <div class=\"section-header\">\n      <div>\n        <h1>{{ title }}</h1>\n        <p>Configure your automated email sequence</p>\n      </div>\n      <div class=\"action-buttons\">\n        <button class=\"btn btn-secondary\" type=\"button\" (click)=\"goBackToJobSeekers()\">\n          <span class=\"icon\">←</span>\n          Back to Job Seekers\n        </button>\n        <button class=\"btn btn-success\" type=\"button\" (click)=\"openCreateModal()\">\n          <span class=\"icon\">➕</span>\n          Create Template\n        </button>\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"openTemplateModal()\">\n          <span class=\"icon\">👁️</span>\n          View Templates\n        </button>\n      </div>\n    </div>\n    <p class=\"status\" *ngIf=\"statusMessage\" [ngClass]=\"{ success: statusType === 'success', error: statusType === 'error' }\">\n      {{ statusMessage }}\n    </p>\n  </div>\n\n  <div class=\"layout\">\n    <div class=\"card sticky-panel\">\n      <div class=\"section-title\">General Settings</div>\n\n      <div class=\"form-group\">\n        <label for=\"campaignName\">Campaign Name</label>\n        <input\n          id=\"campaignName\"\n          name=\"campaignName\"\n          type=\"text\"\n          [(ngModel)]=\"campaignName\"\n          placeholder=\"e.g., Welcome Series 2024\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"numDrips\">Number of Drip Emails</label>\n        <div class=\"inline-group\">\n          <input\n            id=\"numDrips\"\n            type=\"number\"\n            min=\"1\"\n            [ngModel]=\"numDrips\"\n            (ngModelChange)=\"handleDripCountChange($event)\"\n          />\n          <button class=\"btn btn-primary\" type=\"button\" (click)=\"addDrip()\">➕</button>\n        </div>\n      </div>\n\n      <div class=\"form-group info-box\">\n        <label for=\"globalInterval\">Send After Previous Email (Global)</label>\n        <select\n          id=\"globalInterval\"\n          [(ngModel)]=\"globalInterval\"\n        >\n          <option *ngFor=\"let interval of timeIntervals\" [ngValue]=\"interval.value\">\n            {{ interval.label }}\n          </option>\n        </select>\n        <button class=\"btn btn-primary full\" type=\"button\" (click)=\"applyGlobalInterval()\">\n          Apply to All Drips\n        </button>\n        <p class=\"help-text\">Set a default interval for all emails (except the first)</p>\n      </div>\n\n      <div class=\"stat-box\">\n        <div class=\"stat-row\">\n          <span>Total Emails:</span>\n          <span>{{ drips.length }}</span>\n        </div>\n        <div class=\"stat-row\">\n          <span>Duration:</span>\n          <span>~{{ totalDays }} days</span>\n        </div>\n        <div class=\"stat-row\">\n          <span>Configured:</span>\n          <span>{{ configuredDrips }}/{{ drips.length }}</span>\n        </div>\n      </div>\n\n      <button class=\"btn btn-success full\" type=\"button\" (click)=\"saveCampaign()\" [disabled]=\"isSaving\">\n        {{ isSaving ? 'Saving...' : 'Save Campaign' }}\n      </button>\n    </div>\n\n    <div class=\"card\">\n      <div class=\"section-title\">Email Workflows</div>\n\n      <div class=\"workflow-list\">\n        <div\n          class=\"workflow-wrapper\"\n          *ngFor=\"let drip of drips; let index = index; trackBy: trackByDripId\"\n        >\n          <div class=\"workflow-card\">\n            <div class=\"workflow-header\">\n              <div class=\"workflow-meta\">\n                <div class=\"badge\">{{ index + 1 }}</div>\n                <div>\n                  <h3>Email #{{ index + 1 }}</h3>\n                  <span *ngIf=\"index === 0\">Sends immediately</span>\n                </div>\n              </div>\n              <button class=\"btn btn-danger\" type=\"button\" (click)=\"removeDrip(drip.id)\" *ngIf=\"drips.length > 1\">\n                ✕\n              </button>\n            </div>\n\n            <div class=\"grid-two\">\n              <div *ngIf=\"index > 0\">\n                <label>Wait Time</label>\n                <select [ngModel]=\"drip.interval\" (ngModelChange)=\"updateDripInterval(drip.id, $event)\">\n                  <option *ngFor=\"let interval of timeIntervals\" [ngValue]=\"interval.value\">\n                    {{ interval.label }}\n                  </option>\n                </select>\n              </div>\n\n              <div [ngClass]=\"{ 'full-span': index === 0 }\">\n                <label>Email Template</label>\n                <select [ngModel]=\"drip.template\" (ngModelChange)=\"updateDripTemplate(drip.id, $event)\">\n                  <option value=\"\">Select template...</option>\n                  <option *ngFor=\"let template of emailTemplates\" [ngValue]=\"template.id\">\n                    {{ template.name }}\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"preview-card\" *ngIf=\"drip.template\">\n              <div class=\"preview-header\">\n                <div>\n                  <strong>{{ getTemplateName(drip.template) }}</strong>\n                </div>\n                <button type=\"button\" class=\"link\" (click)=\"previewTemplate(drip.template)\">\n                  Preview\n                </button>\n              </div>\n              <p>{{ getTemplateDescription(drip.template) }}</p>\n            </div>\n          </div>\n\n          <div class=\"connector\" *ngIf=\"index < drips.length - 1\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M19 14l-7 7-7-7M12 21V3\" />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"modal-backdrop\" *ngIf=\"showTemplateModal\">\n    <div class=\"modal-panel\">\n      <div class=\"modal-header\">\n        <h2>Email Templates</h2>\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeTemplateModal()\">✕</button>\n      </div>\n      <div class=\"modal-content\">\n        <div class=\"template-card\" *ngFor=\"let template of emailTemplates\">\n          <div class=\"template-header\">\n            <div>\n              <h3>{{ template.name }}</h3>\n              <p>{{ template.description }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"modal-backdrop\" *ngIf=\"showCreateModal\">\n    <div class=\"modal-panel\">\n      <div class=\"modal-header\">\n        <h2>Create New Template</h2>\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeCreateModal()\">✕</button>\n      </div>\n      <div class=\"modal-content\">\n        <div class=\"form-group\">\n          <label for=\"templateName\">Template Name</label>\n          <input id=\"templateName\" type=\"text\" [(ngModel)]=\"templateForm.name\" placeholder=\"e.g., Product Launch Email\" />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"templateDescription\">Description</label>\n          <input\n            id=\"templateDescription\"\n            type=\"text\"\n            [(ngModel)]=\"templateForm.description\"\n            placeholder=\"Brief description of this template\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"templateContent\">Email Content</label>\n          <textarea\n            id=\"templateContent\"\n            rows=\"6\"\n            [(ngModel)]=\"templateForm.content\"\n            placeholder=\"Write your email content here...\"\n          ></textarea>\n        </div>\n        <div class=\"modal-actions\">\n          <button type=\"button\" class=\"btn\" (click)=\"closeCreateModal()\">Cancel</button>\n          <button type=\"button\" class=\"btn btn-success\" (click)=\"createTemplate()\">Create Template</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"modal-backdrop\" *ngIf=\"selectedTemplatePreview as templateId\">\n    <div class=\"modal-panel\">\n      <div class=\"modal-header\">\n        <h2>{{ getTemplateName(templateId) }}</h2>\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"closePreview()\">✕</button>\n      </div>\n      <div class=\"modal-content\">\n        <p>{{ getTemplateDescription(templateId) }}</p>\n        <div class=\"preview-body\">\n          {{ getTemplateContent(templateId) || 'Template content preview not available.' }}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}